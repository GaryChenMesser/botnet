import csv
import matplotlib.pyplot as plt

with open('../botnet_test/capture20110819.binetflow', newline='') as f:
	data = list(csv.reader(f))

bot = []
back_ground = []
for i, line in enumerate(data):
	if line[-1].find('Botnet') != -1:
		bot.append(i)
	if line[-1].find('Background') != -1:
		back_ground.append(i)

print(len(bot))
print(len(back_ground))

#for i in bot:
#	plt.axvline(x=i)
plt.plot([1.932903226, 1.947040498, 1.946456693, 1.909375, 1.956862745, 1.935599284, 1.922746781, 1.918918919, 1.933609959, 1.970731707, 1.893842887, 1.96039604, 1.910224439, 1.894472362, 1.931192661, 1.93697479, 1.93764988, 1.944020356, 1.935828877, 1.936363636, 1.905956113, 1.955182073, 1.888888889, 1.918367347, 1.891719745, 1.878787879, 1.877419355, 1.884057971, 1.891891892, 1.971830986, 1.921259843, 1.933110368, 1.839721254, 1.871559633, 1.878378378, 1.892405063, 1.97037037, 1.979057592, 1.956521739, 1.880503145, 1.880877743, 1.893617021, 1.86102719, 1.893992933, 1.916129032, 1.968888889, 1.936046512, 1.903133903, 1.898809524, 1.94344473, 1.937677054, 1.833935018, 1.87012987, 1.881619938, 1.882352941, 1.901408451, 1.858695652, 1.925696594, 1.948126801, 1.907356948, 1.9, 1.903225806, 1.934579439, 1.909385113, 1.88028169, 1.926380368, 1.940217391, 1.935897436, 1.858108108, 1.883076923, 1.887417219, 1.893129771, 1.879432624, 1.902597403, 1.992882562, 1.923875433, 1.893992933, 1.896296296, 1.848920863, 1.905109489, 1.889298893, 1.877394636, 1.861788618, 1.927797834, 1.905579399, 1.942307692, 1.911564626, 1.887850467, 1.905084746, 1.91634981, 1.879194631, 1.935714286, 1.91641791, 1.932307692, 1.953177258, 1.89380531, 1.898181818, 1.895522388, 1.901886792, 1.870036101, 1.818897638, 1.95256917, 1.902097902, 1.915194346, 1.932659933, 1.964412811, 1.922807018, 1.879365079, 1.927419355, 1.888888889, 1.955555556, 1.88976378, 1.898916968, 1.868512111, 1.829351536, 1.869565217, 1.876160991, 1.875862069, 1.868055556, 1.921259843, 1.906040268, 1.862903226, 1.933534743, 1.913043478, 1.898734177, 1.835205993, 1.914590747, 1.908396947, 1.841155235, 1.87250996, 1.877729258, 1.894736842, 1.912, 1.850622407, 1.874015748, 1.941391941, 1.865248227, 1.911504425, 1.941422594, 1.931623932, 1.959349593, 1.992248062, 1.849056604, 1.860465116, 1.937716263, 1.969111969, 1.935483871, 1.88976378, 1.920792079, 1.819548872, 1.883268482, 1.94265233, 1.915730337, 1.916666667, 1.93877551, 1.891891892, 1.919354839, 1.895910781, 1.857142857, 1.942238267, 1.982300885, 1.875862069, 1.863309353, 1.947565543, 1.904191617, 1.961538462, 1.928571429, 1.931818182, 1.924369748, 1.869346734, 1.872727273, 1.889400922, 1.829596413, 1.872340426, 1.860869565, 1.855855856, 1.888888889, 1.89787234, 1.886925795, 1.948497854, 1.881944444, 1.953020134, 1.924290221, 1.873239437, 1.95505618, 1.905797101, 1.943548387, 1.928888889, 1.904761905, 1.950177936, 1.938547486, 1.94375, 1.95567867, 1.871886121, 1.931034483, 1.904109589, 1.910714286, 1.955223881, 1.870967742, 1.917910448])
plt.show()
'''
with open('../botnet_test/botOnly20110819.binetflow', 'w') as f:
	w = csv.writer(f)
	for i in bot:
		w.writerow(data[i])

with open('../botnet_test/backOnly20110819.binetflow', 'w') as f:
	w = csv.writer(f)
	for i in back_ground:
		w.writerow(data[i])
'''
